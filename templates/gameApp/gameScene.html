{% extends 'gameApp/base.html' %}
{% load static %}

{% block title_block %}
	GameScene
{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'css/gameSceneStyle.css' %}">
    <script type="module" src="{% static 'js/gameScene.js' %}"></script> <!--styling-->
    <script src="{% static 'js/game.js' %}"></script> <!--game run-->
{% endblock %}

{% block body_block %}
    <div id="game">
        <!-- Message Display Area -->
        <div id="messages"></div>

        <!-- Input Area -->
        <div id="inputArea">
            <input type="text" id="input" placeholder="Enter your choice...">
            <button id="submitButton">Submit</button>
        </div>
    </div>


    <script>
        // Utility Functions
        function printMessage(message) {
            const messageElement = document.createElement("div");
            messageElement.className = "message";
            messageElement.textContent = message;
            messagesDiv.appendChild(messageElement);
            messagesDiv.scrollTop = messagesDiv.scrollHeight; // Auto-scroll to the latest message
        }

        function getInput() {
            return inputField.value.trim();
        }

        function clearInput() {
            inputField.value = "";
        }

        // DOM Elements
        const messagesDiv = document.getElementById("messages");
        const inputField = document.getElementById("input");
        const submitButton = document.getElementById("submitButton");

        // Event Listeners
        submitButton.addEventListener("click", handleInput);
        inputField.addEventListener("keypress", function (event) {
            if (event.key === "Enter") {
                handleInput();
            }
        });

        // Initialize Game
        printMessage("Welcome to Alien Survival Game!");
        printMessage("You are in the street. You can enter any house numbered 1-10. Enter 'q' to quit.");
    </script>
{% endblock %}